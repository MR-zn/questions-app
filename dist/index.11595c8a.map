{"version":3,"sources":["js\\index\\index.js"],"names":["indexCate","getCateInfo","data","plus","nativeUI","showWaiting","len","length","html","i","cate","cateId","id","cateName","name","cateMark","mark","allNum","quesion_allnum","passNum","pass_num","subCates","sub","subLen","labls","j","subName","img","cates","box","innerHTML","cateClick","category","document","querySelectorAll","categoryL","index","mui","on","querySelector","innerText","title","urls","openWindow","url","extras","token","createNew","show","aniShow","waiting","autoShow","window","addEventListener","e","num","state","app","getState","detail","ajax","api_token","dataType","type","timeout","success","status","toast","closeWaiting","error","xhr","errorThrown"],"mappings":"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","file":"index.11595c8a.map","sourceRoot":"..","sourcesContent":["\r\nvar indexCate = null;\r\n\r\nvar getCateInfo = function(data){\r\n\tplus.nativeUI.showWaiting()\t\r\n\tvar len = data.length;\r\n\tvar html='';\r\n\t//处理分类列表\r\n\tfor (var i=0;i<len;i++) { \r\n\t\t\r\n\t\tvar cate = data[i], //获取当前分类所有信息\r\n\t\t\tcateId = cate.id;\r\n\t\t\tcateName = cate.name;  //获取当前分类名\r\n\t\t\r\n\t\t\t\r\n\t\tif(i==3){//获取当前分类描述\r\n\t\t\tcateMark = '';\r\n\t\t}else{\r\n\t\t\tcateMark = '('+ cate.mark + ')';\r\n\t\t}\r\n\t\t\t\r\n\t\tvar allNum = cate.quesion_allnum, //获取题目总数\r\n\t\t\tpassNum = cate.pass_num; //获取通过题目总数\r\n\t\tvar subCates = cate.sub, //获取当前分类的子分类 \r\n\t\t\tsubLen = subCates.length; //获取当前分类的子分类数量\r\n\t\t\t\r\n\t\t\r\n\t\t//处理子分类列表\r\n\t\tvar labls = '';\r\n\t\tif(i!=3){\r\n\t\t\tfor (var j=0;j<subLen;j++) {\r\n\t\t\t\r\n\t\t\t\tvar subName = subCates[j].name; //获取子分类名\r\n\t\t\t\tlabls+=`<a>${subName}</a>`;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tvar img = '<img src=\"../images/index/'+cates[i]+'.png\"/>';\r\n\t\tvar mark = '';\r\n\t\t\r\n\t\tif(i==3){\r\n\t\t\tmark = `<a>${cateName}</a>`;\r\n\t\t}else{\r\n\t\t\tmark = `<a>${cateName}</a><a>${cateMark}</a>`;\r\n\t\t}\r\n\t\t\r\n\t\thtml += `<div class=\"category\" >\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t<li class=\"infor\">\r\n\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t<li class=\"icon\"><a>${img}</a></li>\r\n\t\t\t\t\t\t\t\t\t<li class=\"category\">${mark}</li>\r\n\t\t\t\t\t\t\t\t\t<li class=\"score\"><a><span class=\"grade\">${passNum}</span>/<span class=\"sum\">${allNum}</span></a></li>\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t<div class=\"lable\">\r\n\t\t\t\t\t\t\t${labls}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"mui-hidden cateId\">${cateId}</div>\r\n\t\t\t\t\t\t<div class=\"mui-hidden title\">${cateName}${cateMark}</div>\r\n\t\t\t\t\t</div>`;\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\tbox.innerHTML=html;\r\n\tcateClick();\r\n}\r\n\r\nvar cateClick = function(){//顶级分类点击事件\r\n\tvar category = document.querySelectorAll('div.category');\r\n\tvar categoryL = category.length;\r\n\t\r\n\tfor (var i = 0;i<categoryL;i++) {\r\n\t\tcategory[i].index = i;\r\n\t}\r\n\t\r\n\tmui('#category').on('click', 'div.category', function() {\r\n\t\tvar cateId = this.querySelector('.cateId').innerText;\r\n\t\tvar title = this.querySelector('.title').innerText;\r\n\t\tvar urls = ['common.html','common.html','common.html','industry.html'];\r\n\t\tvar index = this.index;\r\n\t\t\r\n\t\tmui.openWindow({\r\n\t\t  \turl: 'index/' + urls[this.index],\r\n\t\t  \tid: urls[this.index],\r\n\t  \t \textras:{\r\n\t  \t \t\tcateId: cateId,\r\n\t\t      \ttitle: title,\r\n\t      \t\tindex: index,\r\n\t      \t\ttoken: token\r\n\t\t    },\r\n\t\t    createNew:false,\r\n\t\t  \tshow:{\r\n\t\t      \taniShow: 'slide-in-right',//页面显示动画，默认为”slide-in-right“；\r\n\t\t    },\r\n\t\t   \twaiting:{\r\n\t      \t\tautoShow:true,//自动显示等待框，默认为true\r\n\t      \t\ttitle:'正在加载...',//等待对话框上显示的提示内容\r\n\t      \t}\r\n\t\t});\r\n\t});\r\n}\r\n\r\nwindow.addEventListener('getList',function(e){//获得顶级分类\r\n\tnum++;\r\n\tvar state = app.getState();\r\n\t\r\n\tif(e.detail.token){\r\n\t\ttoken = e.detail.token;\r\n\t}else{\r\n\t\ttoken = state.token;\r\n\t}\r\n\t\r\n\tmui.ajax(url+'/index/cate',{\r\n\t\tdata:{\r\n\t\t\tapi_token: token\r\n\t\t},\r\n\t\tdataType:'json',\r\n\t\ttype:'get',\r\n\t\ttimeout:10000,          \r\n\t\tsuccess:function(data){\r\n\t\t\tif(data.status==0){\r\n\t\t\t\tindexCate=data.data;\r\n\t\t\t\tgetCateInfo(data.data);\r\n\t\t\t}else{\r\n\t\t\t\tplus.nativeUI.toast('数据请求失败 ！')\r\n\t\t\t}\r\n\t\t\tplus.nativeUI.closeWaiting();\r\n\t\t},\r\n\t\terror:function(xhr,type,errorThrown){\r\n\t    \tplus.nativeUI.closeWaiting();\r\n\t        plus.nativeUI.toast('服务器连接超时，请稍后再试');\r\n\t\t}\r\n\t});\r\n\r\n\r\n})"]}