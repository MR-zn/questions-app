{"version":3,"sources":["js\\common.js"],"names":["url","token","getToken","data","get","wvs","plus","webview","all","i","length","console","log","id","getCSS","obj","document","defaultView","getComputedStyle","checkPhone","phone","reg","test","checkCode","code","checkPwd","pwd","window","width","body","clientWidth","getCode","querySelector","Val","prototype","_this","innerText","time","timer","onclick","value","SetTime","mui","ajax","type","timeout","success","error","xhr","errorThrown","nativeUI","toast","bind","setTimeout"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA,IAAIA,MAAM,+BAAV;AACA,IAAIC,QAAQ,IAAZ;AACA,IAAIC,WAAW,SAAXA,QAAW,CAASC,IAAT,EAAc;AAC5BF,SAAQE,IAAR;AACA,CAFD;AAGA,SAASC,GAAT,GAAc;AACV,KAAIC,MAAIC,KAAKC,OAAL,CAAaC,GAAb,EAAR;AACA,MAAI,IAAIC,IAAE,CAAV,EAAYA,IAAEJ,IAAIK,MAAlB,EAAyBD,GAAzB,EAA6B;AACzBE,UAAQC,GAAR,CAAY,YAAUH,CAAV,GAAY,IAAZ,GAAiBJ,IAAII,CAAJ,EAAOI,EAApC;AACH;AACJ;;AAED,SAASC,MAAT,CAAgBC,GAAhB,EAAoB;AACnB,QAAOC,SAASC,WAAT,CAAqBC,gBAArB,CAAsCH,GAAtC,EAA2C,IAA3C,CAAP;AACA;;AAED;AACA;AACA;AACA;AACA;;;AAGA;AACA,IAAII,aAAa,SAAbA,UAAa,CAASC,KAAT,EAAe;AAC/B,KAAIC,MAAI,0BAAR;AACG,QAAOA,IAAIC,IAAJ,CAASF,KAAT,CAAP;AACH,CAHD;;AAKA;AACA,IAAIG,YAAY,SAAZA,SAAY,CAASC,IAAT,EAAc;AAC7B,QAAOA,KAAKd,MAAL,IAAa,CAApB;AACA,CAFD;;AAIA;AACA,IAAIe,WAAW,SAAXA,QAAW,CAASC,GAAT,EAAa;AAC3B,KAAIL,MAAM,wCAAV;AACA,QAAOA,IAAIC,IAAJ,CAASI,GAAT,CAAP;AACA,CAHD;;AAOAC,OAAOC,KAAP,GAAeZ,SAASa,IAAT,CAAcC,WAA7B;;AAGA;AACA,IAAIC,UAAU,SAAVA,OAAU,CAASX,KAAT,EAAeP,EAAf,EAAkB;AAC/B,MAAKO,KAAL,GAAaJ,SAASgB,aAAT,CAAuBZ,KAAvB,CAAb;AACA,MAAKL,GAAL,GAAWC,SAASgB,aAAT,CAAuBnB,EAAvB,CAAX;AACA,MAAKoB,GAAL;AACA,CAJD;;AAMAF,QAAQG,SAAR,CAAkBD,GAAlB,GAAwB,YAAU;AACjC,KAAIE,QAAM,IAAV;AACA,MAAKpB,GAAL,CAASqB,SAAT,GAAqB,OAArB;AACA,MAAKC,IAAL,GAAY,EAAZ;AACA,MAAKC,KAAL,GAAa,IAAb;AACA,MAAKvB,GAAL,CAASwB,OAAT,GAAmB,YAAU;AAC5B,MAAGpB,WAAW,KAAKC,KAAL,CAAWoB,KAAtB,CAAH,EAAgC;AAC/B,QAAKC,OAAL;AACA,QAAK1B,GAAL,CAASwB,OAAT,GAAmB,IAAnB;AACAG,OAAIC,IAAJ,CAAS3C,MAAI,UAAb,EAAwB;AACvBG,UAAK;AACJiB,YAAO,KAAKA,KAAL,CAAWoB;AADd,KADkB;AAIvBI,UAAK,MAJkB;AAKvBC,aAAQ,KALe;AAMvBC,aAAQ,iBAAS3C,IAAT,EAAc;AAC1B;AACK,KARsB;AASvB4C,WAAM,eAASC,GAAT,EAAaJ,IAAb,EAAkBK,WAAlB,EAA8B;AACxC;AACK;AAXsB,IAAxB;AAaA,GAhBD,MAgBM;AACL3C,QAAK4C,QAAL,CAAcC,KAAd,CAAoB,UAApB;AACA;AACD,EApBkB,CAoBjBC,IApBiB,CAoBZ,IApBY,CAAnB;AAqBA,CA1BD;;AA4BArB,QAAQG,SAAR,CAAkBO,OAAlB,GAA4B,YAAU;;AAGrC,MAAKJ,IAAL;AACA,MAAKtB,GAAL,CAASqB,SAAT,GAAqB,SAAS,KAAKC,IAAnC;AACA,MAAKC,KAAL,GAAae,WAAW,YAAU;AACjC,MAAG,KAAKhB,IAAL,IAAW,CAAd,EAAgB;AACf,QAAKJ,GAAL;AACA;AACA;AACD,OAAKQ,OAAL;AACA,EANuB,CAMtBW,IANsB,CAMjB,IANiB,CAAX,EAMA,IANA,CAAb;AAQA,CAbD","file":"common.c6a19303.map","sourceRoot":"..","sourcesContent":["//全局url\r\nvar url = 'http://101.132.141.130:82/api';\r\nvar token = null;\r\nvar getToken = function(data){\r\n\ttoken = data;\r\n}\r\nfunction get(){\r\n    var wvs=plus.webview.all();\r\n    for(var i=0;i<wvs.length;i++){\r\n        console.log('webview'+i+': '+wvs[i].id);\r\n    }\t\t\r\n}\r\n\r\nfunction getCSS(obj){ \r\n\treturn document.defaultView.getComputedStyle(obj, null);\r\n}\r\n\r\n//检查邮箱格式\r\n//\tvar checkEmail = function(email) {\r\n//\t\temail = email || '';\r\n//\t\treturn (email.length > 3 && email.indexOf('@') > -1);\r\n//\t};\r\n\t\r\n\r\n//检查手机号格式\r\nvar checkPhone = function(phone){\r\n\tvar reg=/^[1][3,4,5,7,8][0-9]{9}$/;\r\n    return reg.test(phone);\r\n}\r\n\r\n//检查验证码\r\nvar checkCode = function(code){\r\n\treturn code.length==0;\r\n}\r\n\r\n//检查密码\r\nvar checkPwd = function(pwd){\r\n\tvar reg = /^[a-zA-Z]{1}([a-zA-Z0-9]|[_.@]){5,13}$/;\r\n\treturn reg.test(pwd);\r\n}\r\n\t\r\n\r\n\r\nwindow.width = document.body.clientWidth;\r\n\r\n\r\n//获取验证码\r\nvar getCode = function(phone,id){\r\n\tthis.phone = document.querySelector(phone);\r\n\tthis.obj = document.querySelector(id);\r\n\tthis.Val();\r\n}\r\n\r\ngetCode.prototype.Val = function(){\r\n\tvar _this=this;\r\n\tthis.obj.innerText = '获取验证码';\r\n\tthis.time = 60;\r\n\tthis.timer = null;\r\n\tthis.obj.onclick = function(){\r\n\t\tif(checkPhone(this.phone.value)){\r\n\t\t\tthis.SetTime();\r\n\t\t\tthis.obj.onclick = null;\r\n\t\t\tmui.ajax(url+'/sendsms',{\r\n\t\t\t\tdata:{\r\n\t\t\t\t\tphone: this.phone.value\r\n\t\t\t\t},\r\n\t\t\t\ttype:'post',\r\n\t\t\t\ttimeout:10000,  \r\n\t\t\t\tsuccess:function(data){\r\n//\t\t\t\t\tplus.nativeUI.toast('发送成功！');\r\n\t\t\t\t},\r\n\t\t\t\terror:function(xhr,type,errorThrown){\r\n//\t\t\t\t\tplus.nativeUI.toast('发送失败！');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}else {\r\n\t\t\tplus.nativeUI.toast('手机号格式有误！');\r\n\t\t}\r\n\t}.bind(this)\r\n}\r\n\r\ngetCode.prototype.SetTime = function(){\r\n\t\r\n\t\r\n\tthis.time--;\r\n\tthis.obj.innerText = '重新发送' + this.time;\r\n\tthis.timer = setTimeout(function(){\r\n\t\tif(this.time==0){\r\n\t\t\tthis.Val();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.SetTime();\r\n\t}.bind(this),1000)\r\n\t\r\n}\r\n"]}